
\section{Héritage}


\subsection{Généralités}

\begin{frame}
  \frametitle{Définition}

\begin{defi}[Héritage]
Mécanisme spécifique aux langages orientés objet qui
permet à une classe B (appelée sous-classe ou 
classe fille) d'hériter de toutes les propriétés d'une classe A (appelée
super-classe ou classe mère). 
\end{defi}

Utilité :
\begin{itemize}
\item Factorisation du code
\item Gérer des différents de manière similaire
\item Augmente la réutilisabilité
\end{itemize}
\end{frame}


\begin{frame}
  \frametitle{Exemple}

  \only<1>{
    \begin{itemize}
    \item Gestion de figures géométriques
    \item Différents types de figures : cercles et rectangles
    \item Propriétés communes (position du centre de la figure)
    \item Propriétés spécifiques (rayon du cercle, longueur et largeur du
      rectangle)
    \item[$\Rightarrow$] trois classes
    \end{itemize}}
  \only<2>{
%    \centering   \includegraphics[width=5cm,angle=-90]{figures}
\begin{center}
\tikzstyle{classe}=[rectangle, draw=black, rounded corners, fill=blue!50, drop shadow, text centered, anchor=north, text=white, text width=2cm, rectangle split, rectangle split parts=3]
\tikzstyle{extends}=[->, >=open triangle 90, thick]
  \begin{tikzpicture}[node distance=1.5cm,scale=0.5, font=\scriptsize]
    \node (figure) [classe]
    {
      \textbf{Figure}
      \nodepart{second}\texttt{\# int abscisse\\\# int ordonnee}
      %\nodepart{third}\texttt{}
    };
    \node (AuxNode01) [text width=0.5cm, below=of figure] {};
    \node (cercle) [classe, left=of AuxNode01]
    {
      \textbf{Cercle}
      \nodepart{second}\texttt{- int rayon}
      %\nodepart{third}\texttt{}
    };
    \node (rectangle) [classe, right=of AuxNode01]
    {
      \textbf{Rectangle}
      \nodepart{second}\texttt{- int longueur\\- int largeur}
      %\nodepart{third}\texttt{}
    };
    \draw[extends] (cercle.north) --  (figure.south west);
    \draw[extends] (rectangle.north) --  (figure.south east);
  \end{tikzpicture}
\end{center}
  }
\end{frame}

%\begin{frame}
%  \frametitle{Héritage multiple}
%  \only<1,3>{
%    \begin{remarque}[Héritage multiple]
%      Certains langages permettent d'hériter de plusieurs classes. Entraîne des
%      problèmes théoriques lorsqu'on hérite plusieurs fois du même parent.
%    \end{remarque}
%    Exemple :
%  }
%  \only<3>{
%    D hérite de B et C, B et C héritent de A.
%
%    \begin{remarque}[Le cas Java]
%      Java ne supporte pas l'héritage multiple
%    \end{remarque}
%  }
%  \only<2>{
%    \begin{center}
%      \includegraphics[width=5cm]{heritage_multiple}
%    \end{center}
%  }
%\end{frame}
%

\subsection{Héritage en Java}

\begin{frame}
  \frametitle{Héritage en Java}
  \only<1,3>{
    \begin{itemize}
    \item En Java : utilisation du mot clé \emph{extends}
    \item Modificateur d'accès \emph{protected} : donnée utilisable dans la
      classe et les sous-classes
    \item Si aucun héritage n'est précisé : hérite de \emph{Object}
    \end{itemize}

    \begin{exemple}[Figures]
      \begin{semiverbatim}
        public class Figure \{

        \hspace{1cm}\textcolor{red}{protected} double abscisse;

        \hspace{1cm}...

        \uncover<3>{public class Cercle \textcolor{red}{extends Figure} \{
      
        \hspace{1cm}private double rayon;

        \hspace{1cm}...}
      \end{semiverbatim}
    \end{exemple}}
  \only<2,4>{
\begin{center}
\tikzstyle{classe}=[rectangle, draw=black, rounded corners, fill=blue!50, drop shadow, text centered, anchor=north, text=white, text width=2cm, rectangle split, rectangle split parts=3]
\tikzstyle{extends}=[->, >=open triangle 90, thick]
  \begin{tikzpicture}[node distance=1.5cm,scale=0.5, font=\scriptsize]
    \node (figure) [classe]
    {
      \textbf{Figure}
      \nodepart{second}\texttt{\# int abscisse\\\# int ordonnee}
      \nodepart{third}\texttt{+ Figure()}
    };
    \only<4>{
    \node (cercle) [classe, right=of figure]
    {
      \textbf{Cercle}
      \nodepart{second}\texttt{- int rayon}
      \nodepart{third}\texttt{+ Cercle()}
    };
    \draw[extends] (cercle.text west) --  (figure.text east);
}
  \end{tikzpicture}
\end{center}
    %\includegraphics[height=4cm]{herite2}
  }
\end{frame}


\begin{frame}
  \frametitle{Appel du constructeur de la super-classe}
  \only<1,3>{
  \begin{exemple}[Figures]
    \begin{semiverbatim}
      public class Figure \{

      \hspace{1cm}public {\color<3>{red}Figure(int abs, int ord)} \{

      \hspace{2cm}\textcolor{blue}{this.}abscisse = abs ; ordonnee = ord;

      \hspace{1cm}\}

      \}

      public class Cercle extends Figure \{
      
      \hspace{1cm}private Cercle(int x, int y, int r) \{

      \hspace{2cm}\only<1>{\textcolor{red}{super.}abscisse = x; \textcolor{red}{super.}ordonnee = y;}\only<3->{\textcolor{red}{super(x, y)};}

      \hspace{2cm}\textcolor{blue}{this.}rayon = r;

      \hspace{1cm}\}

      \}
    \end{semiverbatim}
  \end{exemple}}
  \only<2,4>{
\begin{center}
\tikzstyle{classe}=[rectangle, draw=black, rounded corners, fill=blue!50, drop shadow, text centered, anchor=north, text=white, text width=2cm, rectangle split, rectangle split parts=3]
\tikzstyle{extends}=[->, >=open triangle 90, thick]
\tikzstyle{uses}=[thick, arrows={-angle 60}]
  \begin{tikzpicture}[node distance=1.5cm,scale=0.5, font=\scriptsize]
    \node (figure) [classe]
    {
      \textbf{Figure}
      \nodepart{second}\texttt{\# int abscisse\\\# int ordonnee}
      \nodepart{third}\texttt{+ Figure()}
    };
    \node (cercle) [classe, right=of figure]
    {
      \textbf{Cercle}
      \nodepart{second}\texttt{- int rayon}
      \nodepart{third}\texttt{+ Cercle()}
    };
    \draw[extends] (cercle.text west) --  (figure.text east);
    \draw[uses,color=blue] (cercle.third east)+(-0.5,0) .. controls +(2,0.4)
    and +(2,0.4).. ([xshift=-0.5cm] cercle.second east);
    \only<2>{
      \draw[uses,color=red] (cercle.third) -- ([xshift=-0.3cm] figure.second east);
    }
    \only<4>{
    \draw[uses,color=red] (cercle.third) -- ([xshift=-0.6cm] figure.third east);
    \draw[uses,color=blue] (figure.third west)+(0.5,0) .. controls +(-2,0.4) and +(-2,0.4).. ([xshift=0.3cm] figure.second west);
    }
ond east);
  \end{tikzpicture}
\end{center}
%    \includegraphics[height=4cm]{herite3}
  }
\end{frame}


\section{Polymorphisme}


\subsection{Généralités}

\begin{frame}
  \frametitle{Définition}
  \begin{defi}[Polymorphisme]
    Mécanisme selon lequel un même message peut être envoyé vers des objets de
    types différents, chaque objet réagissant de façon originale. 
  \end{defi}
  \uncover<2->{
  Objectif~:
  \begin{itemize}
  \item Rendre une certaine complexité de programmation transparente
  \item Faciliter la conception de programmes
  \end{itemize}}
\end{frame}


\begin{frame}
  \frametitle{Différents polymorphismes}
  \begin{itemize}[<+->]
  \item Le polymorphisme ad hoc (également \emph{surcharge} ou
    \emph{overloading})
  \item N'est pas un vrai polymorphisme : uniquement une facilité de notation
  \end{itemize}

  \begin{itemize}[<+->]
  \item Le polymorphisme d'héritage (également \emph{redéfinition},
    \emph{spécialisation} ou \emph{overriding})
  \item Le vrai polymorphisme : association dynamique
  \end{itemize}
\end{frame}


\subsection{Surcharge (early binding)}

\begin{frame}
  \frametitle{Principe}

  Principe de la surcharge~:
  \begin{itemize}[<+->]
  \item Méthodes avec le même nom
    \begin{itemize}
    \item dans des classes différentes
    \item avec des paramètres différents
    \end{itemize}
  \end{itemize}

  \uncover<4->{
    Exemples~:
    \begin{itemize}
    \item \emph{println} avec un paramètre de type entier, booléen, String, ...
    \item Une méthode \emph{afficher} dans les classes \emph{Pile},
      \emph{Rationnel}, ...
    \end{itemize}}
  
  \uncover<5>{
    Signification du terme :
    \emph{early binding} $\Rightarrow$ choix de la méthode lors de la
    compilation 
  }
\end{frame}

\begin{frame}
  \frametitle{Surcharge en Java}

  \only<1,3,5,7,8,10>{
  \begin{exemple}[Constructeur]
    \begin{semiverbatim}
      public class {\color<1-3>{red}Figure2D} \{
\only<1-5>{

      \hspace{1cm}private int abscisse;

      \hspace{1cm}private int ordonnee;}
\uncover<3->{

      \hspace{1cm}public {\color<8>{red}{\color<2-5>{red}Figure2D}(int abs, int ord)} \{

      \hspace{2cm}abscisse = abs ;

      \hspace{2cm}ordonnee = ord;

      \hspace{1cm}\}}
\uncover<5->{

      \hspace{1cm}public {\color<10>{red}{\color<5>{red}Figure2D}()} \{

      \hspace{2cm}this(0,0);

      \hspace{1cm}\}}
\only<7->{

      \hspace{1cm}public static void main(String args[]) \{

\uncover<8->{      \hspace{2cm}Figure2D f1 = new {\color<8>{red}Figure2D(1,2)};

}
\uncover<10->{      \hspace{2cm}Figure2D f1 = new {\color<10>{red}Figure2D()};

}
      \hspace{1cm}\}}
    \end{semiverbatim}
  \end{exemple}}
\only<2,4,6,9,11>{
\begin{center}
\tikzstyle{classe}=[rectangle, draw=black, rounded corners, fill=blue!50, drop
shadow, text centered, text=white, text width=2.8cm, rectangle
split, rectangle split parts=3]
\tikzstyle{extends}=[->, >=open triangle 90, thick]
\tikzstyle{uses}=[thick, arrows={-angle 60}]
\pgfdeclarelayer{background}
\pgfdeclarelayer{foreground}
\pgfsetlayers{background,main,foreground}
  \begin{tikzpicture}[node distance=1cm,scale=0.5, font=\scriptsize]
    \node (figure) [classe]
    {
      \textbf{Figure2D}
      \nodepart{second}\texttt{\# int abscisse\\\# int ordonnee}
      \nodepart{third}\texttt{\only<4->{+ Figure2D(int,int)\\\uncover<6->{+ Figure2D()}}}
    };
    \node (main) [below right=of figure] {main};
    % 
    \only<4,6>{
      \draw[uses,color=blue] (figure.third east)+(-0.25,0.25) .. controls +(2,0.4) and +(2,0.4) .. ([xshift=-0.5cm,yshift=0.3cm] figure.second east);
      \draw[uses,color=blue] (figure.third east)+(-0.25,0.25) .. controls +(1.5,0.4) and +(1.5,0.4) .. ([xshift=-0.5cm,yshift=-0.3cm] figure.second east);
  }
    % 
  \only<6>{
    \draw[uses,color=red] (figure.third east)+(-0.5,-0.25) .. controls
    +(1.5,0.1) and +(1.5,0.1) .. ([xshift=-0.4cm,yshift=0.3cm] figure.third
    east);
  }
    % 
  \only<9>{
    \draw[uses,color=red] (main) to[bend right=60]
    ([xshift=-0.4cm,yshift=0.3cm] figure.third east);
  }
    % 
  \only<11>{
    \draw[uses,color=red] (main) to[bend right=60]
    ([xshift=-0.4cm,yshift=-0.3cm] figure.third east);
  }
    \begin{pgfonlayer}{background}
      % Compute a few helper coordinates
      \path (figure.west |- figure.north)+(-0.5,0.3) node (a) {};
      \path (main.south -| main.east)+(+0.3,-0.2) node (b) {};
      \path[fill=yellow!20,rounded corners, draw=black!50, dashed] (a) rectangle (b);
    \end{pgfonlayer}

  \end{tikzpicture}
\end{center}
%\includegraphics[height=6cm]{constr1}
}
% \only<4>{
% \includegraphics[height=6cm]{constr2}
% }
% \only<6>{
% \includegraphics[height=6cm]{constr3}
% }
% \only<9>{
% \includegraphics[height=6cm]{constr4}
% }
% \only<11>{
% \includegraphics[height=6cm]{constr5}
% }
\end{frame}



\subsection{Polymorphisme d'héritage (late binding)}

\begin{frame}
  \frametitle{Principe}
  \begin{itemize}
  \item Plusieurs méthodes avec le même nom et les mêmes paramètres dans un
    hiérarchie de classes
  \item Méthode appelée : correspond à l'objet instancié
  \item Avantage : manipuler toutes les classes d'une hiérarchie de manière
    uniforme
  \end{itemize}
  \uncover<2->{
  \begin{exemple}
    Figures 2D, cercles, rectangles

    Méthode \emph{aire} : retourne 0 pour Figure2D et l'aire pour Cercle et
    Rectangle. 
  \end{exemple}}
\end{frame}


\begin{frame}
  \frametitle{Exemple}
  \begin{exemple}
    \begin{semiverbatim}
      public class Figure2D \{

      \hspace{1cm}public double aire() \{

      \hspace{2cm}return 0;

      \hspace{1cm}\}

      \}

      public class Cercle extends Figure2D \{

      \hspace{1cm}public double aire() \{

      \hspace{2cm}return Math.PI * rayon * rayon;

      \hspace{1cm}\}

      \}
    \end{semiverbatim}
  \end{exemple}
\end{frame}

\begin{frame}
  \frametitle{Utilisation des figures}
  \begin{exemple}
    \begin{semiverbatim}
      public class AppliFigures \{
      
      \hspace{1cm}public static void main(String[] args) \{

      \hspace{2cm}Figure2D tableau[] = new Figure2D[3];\pause

      \hspace{2cm}tableau[0] = new Figure2D();\pause

      \hspace{2cm}tableau[1] = new Cercle();

      \hspace{2cm}tableau[2] = new Rectangle();\pause

      \hspace{2cm}for (int i=0 ; i<tableau.length ; i++)

      \hspace{2.5cm}System.out.println(tableau[i].aire());

      \hspace{1cm}\}

      \}
    \end{semiverbatim}
  \end{exemple}
\end{frame}

\begin{frame}
  \frametitle{toString}
  Autre exemple : méthode \emph{toString}
  \begin{itemize}
  \item Méthode appelée pour convertir un objet en chaîne de caractères\pause
  \item[$\Rightarrow$] afficher directement les objets\pause
  \end{itemize}

  Exemple affichage d'une figure \emph{f}:
  \begin{semiverbatim}
    System.out.println(f);\pause

    \only<-5>{Figure2D@14f8dab}\only<6->{Figure placee en 0,0}
  \end{semiverbatim}\pause

  \begin{semiverbatim}
    public String toString() \{

      \hspace{0.5cm}return "Figure placee en "+abscisse+","+ordonnee;

      \}
  \end{semiverbatim}
\end{frame}

\section{Méthode abstraites}


\subsection{Méthodes et classes abstraites}

\begin{frame}
  \frametitle{Méthodes abstraites}
  \begin{defi}[Méthode abstraite]
    Une méthode est abstraite si sa déclaration est précédée du mot-clé
    \emph{abstract}. Elle ne contient alors aucun code et il n'est pas
    possible de l'appeler \uncover<2->{ $\Rightarrow$ redéfinir dans les
    sous-classes. }
  \end{defi}

  \uncover<3->{
  \begin{exemple}
    Dans la classe \emph{Figure2D}
    \begin{semiverbatim}
      \hspace{1cm}public \textcolor{red}{abstract} double
      aire()\textcolor{red}{;} \textcolor{blue}{// pas de \{\}}
    \end{semiverbatim}
  \end{exemple}}
\end{frame}


\begin{frame}
  \frametitle{Classe abstraite}
  \begin{defi}[Classe abstraite]
    Une classe abstraite est une classe dont une des méthodes est
    abstraite. La déclaration de la classe est alors précédée du mot-clé
    \emph{abstract}. 
  \end{defi}
  \pause
  \begin{exemple}
    \begin{semiverbatim}
      public \textcolor{red}{abstract} class Figure2D \{

      ...
    \end{semiverbatim}
  \end{exemple}
  \pause
  \begin{remarque}
    Il n'est pas possible d'instancier une classe abstraite
  \end{remarque}
\end{frame}

\begin{frame}
  \frametitle{Héritage d'une classe abstraite}
  Héritage
  \begin{itemize}
  \item Une sous-classe d'une classe abstraite peut être concrète si elle
    redéfinit toutes les méthodes abstraites.
  \item Exemple : \emph{aire} est redéfinie dans \emph{Cercle}
  \end{itemize}
  \pause
  Intérêt :
  \begin{itemize}
  \item Déclarer explicitement qu'une classe n'est pas instanciable
  \item Définir les prototypes des méthodes dans la super-classe
  \end{itemize}
  \pause
  Exemple : tableau de \emph{Figure2D}
\end{frame}

\begin{frame}
  \frametitle{Exemple de classe abstraite}
  \begin{semiverbatim}
    public abstract class Figure2D \{

    \hspace{1cm}public abstract double aire();

    ...\pause

    public class Cercle extends Figure2D \{

    \hspace{1cm}public double aire() \{

    \hspace{2cm}return Math.PI*rayon*rayon;

    \hspace{1cm}\}

    ...\pause

    public static void main(String args[]) \{

    \hspace{1cm}Figure2D fig = new Cercle();

    \hspace{1cm}System.out.println(fig.aire());
  \end{semiverbatim}
\end{frame}


\subsection{Interfaces}

\begin{frame}
 \frametitle{Définition}

 \begin{defi}
   Une interface $\simeq$ liste de méthodes (signature, \emph{i.e.}  mode
   d'emploi). Un classe implémente une  
   interface : capable d'exécuter toutes les méthodes prévues par
   cette interface. 
 \end{defi}
\pause
 \begin{remarque}
   Une classe peut implanter plusieurs interfaces
 \end{remarque}
\pause

 Implanter une interface : mot-clé \emph{implements}
\pause

 \begin{exemple}
   \begin{semiverbatim}
     public class MaFenetre implements KeyListener \{ 

     ...
   \end{semiverbatim}
 \end{exemple}
\end{frame}


\begin{frame}
 \frametitle{Exemple}
 \begin{exemple}
   \begin{semiverbatim}
     public Interface KeyListener \{

     \hspace{1cm}public abstract void keyPressed(KeyEvent e);

     \hspace{1cm}public abstract void keyReleased(KeyEvent e);

     \hspace{1cm}public abstract void keyTyped(KeyEvent e);

     \}\pause

     public class MaFenetre implements KeyListener \{ 

     \hspace{1cm}public void keyPressed(KeyEvent e) \{ ... \}

     \hspace{1cm}public void keyReleased(KeyEvent e) \{ ... \}

     \hspace{1cm}public void keyTyped(KeyEvent e) \{ ... \}

     \}
   \end{semiverbatim}
 \end{exemple}
\end{frame}

\tikzstyle{classe}=[rectangle, draw=black, rounded corners, fill=blue!50, drop shadow, text centered, anchor=north, text=white, text width=2.5cm, rectangle split, rectangle split parts=3]
\tikzstyle{interface}=[rectangle, draw=black, rounded corners, fill=green!35, drop shadow, text centered, anchor=north, text=black, text width=2.5cm, rectangle split, rectangle split parts=2]
\tikzstyle{extends}=[->, >=open triangle 90, thick]
\tikzstyle{implements}=[->, >=open triangle 90, thick, loosely dashed]
\tikzstyle{line}=[-, thick]
\tikzstyle{uses}=[thick, arrows={-angle 60}]
        

\begin{frame}
  \frametitle{Utilité des interfaces}
  \begin{itemize}
  \item Sert à concevoir du code réutilisable
  \item Est généralement associée à une classe
  \end{itemize}
\begin{center}
  \begin{tikzpicture}[scale=0.5, font=\scriptsize]
    \node (InterTri) [interface]
    {
      \textbf{InterfaceTri}
      \nodepart{second}\texttt{etapeTri(int t[])}
    };
    \node (Graph) [classe, left=of InterTri]
    {
      \textbf{Graphique}
      \nodepart{second}\texttt{int data[]}
      \nodepart{third}\texttt{afficheTableau()}
    };
    \node (TriShell) [classe, below=of InterTri]
    {
      \textbf{TriShell}
      \nodepart{third}\texttt{etapeTri(int t[])}
    };
    %\node (AuxNode01) [text width=4cm, below=of InterTri] {xxxxxx};
    \node (TriBulle) [classe, left=of TriShell]
    {
      \textbf{TriBulle}
      \nodepart{third}\texttt{etapeTri(int t[])}
    };
    \node (TriIns) [classe, right=of TriShell]
    {
      \textbf{TriInsersion}
      \nodepart{third}\texttt{etapeTri(int t[])}
    };
    \draw[uses] (Graph.east) -- (InterTri.west);
    \draw[implements] (TriBulle.north) -- ++(0,0.8) -| (InterTri.south);
    \draw[implements] (TriShell) --  (InterTri.south);
    \draw[implements] (TriIns.north) -- ++(0,0.8) -| (InterTri.south);
  \end{tikzpicture}
\end{center}

\end{frame}

\section{Variables et méthodes de classe}


\begin{frame}
  \frametitle{Principe}

  \begin{itemize}
  \item Variables de méthodes propriété de la classe, pas de l'instance
  \item[$\Rightarrow$] un seul exemplaire par classe
  \item Accessible depuis les classes et les instances
  \item Utilisation du mot-clé \emph{static}
  \end{itemize}
  \pause
  \begin{alertblock}{Attention}
    Limiter au maximum les variables/méthodes de classe. \emph{static}
    nécessaire : cas très rare.
  \end{alertblock}
\end{frame}



\begin{frame}
  \frametitle{Exemple}
  \begin{exemple}
    Compteur de figures créées dans la classe \emph{Figure2D}.
    \begin{semiverbatim}
      public class Figure \{

      \hspace{1cm}private \textcolor{red}{static} int nombreFigures\textcolor{red}{ ~= 0};

      \hspace{1cm}public Figure() \{

    \hspace{2cm}\textcolor{red}{nombreFigures}++;

    \hspace{1cm}\}

    \hspace{1cm}public \textcolor{red}{static} int getNombreFigures() \{ 

    \hspace{2cm}return nombreFigures;

    \hspace{1cm}\}
    \end{semiverbatim}
  \end{exemple}

  \begin{remarque}
    Si des méthodes \emph{get} et \emph{set} sont nécessaires, elles sont
    \emph{static}. 
  \end{remarque}
\end{frame}

\begin{frame}
\frametitle{Exemple}
\begin{center}
\tikzstyle{classe}=[rectangle, draw=black, rounded corners, fill=blue!50, drop
shadow, text centered, text=white, text width=2cm, rectangle split, rectangle split parts=3]
\tikzstyle{static}=[rectangle, text justified, text=black, text width=2.5cm, rectangle split, rectangle split parts=2]
\tikzstyle{extends}=[->, >=open triangle 90, thick]
\tikzstyle{uses}=[thick, arrows={-angle 60}]
\pgfdeclarelayer{background}
\pgfdeclarelayer{foreground}
\pgfsetlayers{background,main,foreground}
  \begin{tikzpicture}[node distance=1cm,scale=0.5,
    font=\scriptsize,decoration={markings,mark=at position 0.5 with {
      \draw[-] (-4pt,-4pt) -- (4pt,4pt);
      \draw[-] (4pt,-4pt) -- (-4pt,4pt);}}]
    \node (figure1) [classe]
    {
      \textbf{x~: Figure2D}
      \nodepart{second}\texttt{abscisse=2\\ordonnee=3}
      \nodepart{third}\texttt{+ Figure2D()}
    };
    \node (figure2) [classe, right=of figure1]
    {
      \textbf{y~: Figure2D}
      \nodepart{second}\texttt{abscisse=0\\ordonnee=5}
      \nodepart{third}\texttt{+ Figure2D()}
    };
    \node (main) [static,below right=of figure2]
    {
      \texttt{nombreFigures}
      \nodepart{second}\texttt{getNombreFigures()\\main()}
    };
    \draw[uses,color=green!50!black] (figure1.third) |- ([yshift=-0.1cm] main.text west);
    \draw[uses,color=green!50!black] (figure2.third) |- ([yshift=0.1cm] main.text west);
%    \node (tmpx) [below right=of figure1,xshift=-0.3cm,yshift=-0.5cm] {X};
    \draw[uses,color=red,postaction={decorate}] (main.second west) -- +(-0.8,0) |- ([xshift=-0.6cm]
    figure2.second east) ;

    \begin{pgfonlayer}{background}
      % Compute a few helper coordinates
      \path (figure1.west |- figure1.north)+(-0.5,0.3) node (a) {};
      \path (main.south -| main.east)+(+0.3,-0.2) node (b) {};
      \path[fill=yellow!20,rounded corners, draw=black!50, dashed] (a) rectangle (b);
    \end{pgfonlayer}

  \end{tikzpicture}
\end{center}  
\end{frame}
% \section{Fichiers}

% \subsection{Exceptions}

% \begin{frame}
%   \frametitle{Traitement}
%   Ne pas traiter une exception entraîne :
%   \begin{semiverbatim}
% unreported exception java.io.FileNotFoundException; {\color<3>{red}must be
%     caught} or {\color<4>{red}declared to be thrown}     
%   \end{semiverbatim}
% \pause
%   Deux possibilités :
%   \begin{itemize}
%   \item<3-| alert@3> traiter l'exception localement ;
%   \item<4-| alert@4> transmettre l'exception à la méthode appelante.
%   \end{itemize}
% \end{frame}

% \begin{frame}
%   \frametitle{Traitement local : \emph{try-catch-finally}}

%   Traiter une exception localement : utiliser le bloc \emph{try-catch-finally}.
%   \begin{itemize}
%   \item try : certaines instructions peuvent lever une exception
%   \item catch : traitement d'une exception
%   \item finally : instructions exécutées après le bloc \emph{try} et les
%     \emph{catch} éventuels.
%   \end{itemize}

% \end{frame}

% \begin{frame}
%   \frametitle{Syntaxe}
%   Syntaxe :
%   \begin{semiverbatim}
%     try \{

%       \hspace{1cm}...

%     \}~catch (Exception1 e) \{

%       \hspace{1cm}...

%     \}~catch (Exception2 e) \{

%       \hspace{1cm}...

%     \}~finally \{

%       \hspace{1cm}...

%     \}    
%   \end{semiverbatim}
% \end{frame}

% \subsection{Utilisation de fichiers}


% \subsubsection{Principe}

% \begin{frame}
%   \frametitle{Intérêt}

%   \begin{itemize}[<+->]
%   \item Accéder à des données persistantes
%   \item Nécessité de transférer les données en mémoire
%   \item[$\Rightarrow$] dans des variables
%   \item Différents types de fichiers
%     \begin{itemize}
%     \item texte
%     \item binaire
%     \end{itemize}
%   \item Accès en lecture ou en écriture
%   \end{itemize}
% \end{frame}

% \begin{frame}
%   \frametitle{API Java}

%   \begin{itemize}[<+->]
%   \item Comment accéder à un fichier ?
%   \item[$\Rightarrow$] Utilisation de l'API Java
%   \item $\simeq$ 50 classes disponibles dans \emph{java.io}
%   \end{itemize}

%   \pause

%   \begin{alertblock}{Important}
%     \href{http://tormo.ensieta.ecole/documentation/jdk1.5.0/api/index.html}{Consulter  l'API}
%   \end{alertblock}
% \end{frame}

% \begin{frame}
%   \frametitle{Lecture~: utilisation d'un \emph{BufferedReader}}
%   \begin{itemize}
%   \item<1-> Utilisation de \emph{BufferedReader}
%   \item<3-> lecture par \emph{readLine}
%   \end{itemize}

%   \only<-3>{
%     \begin{exemple}
%       \begin{semiverbatim}
%         \only<1-2>{    try \{

%           \hspace{1cm}{\color<2>{red}fichier = new FileReader (nomFichier);}

%           \}~catch (FileNotFoundException e) \{

%           \hspace{1cm}System.out.println(e);

%           \}
     
%           {\color<1>{red}BufferedReader lecteur = new
%             BufferedReader({\color<2>{red}fichier});}}
%         \only<3>{try \{

%           \hspace{1cm}while(({\color<3>{red}chaineLecture = lecteur.readLine()}) != null) \{

%           \hspace{2cm}System.out.println (chaineLecture);

%           \hspace{1cm}\}

%           \hspace{1cm}fichier.close();

%           \}~catch (IOException e) \{

%           \hspace{1cm}System.out.println(e);

%           \} }
%       \end{semiverbatim}
%     \end{exemple}}

%   \only<4->{
%     \begin{itemize}
%     \item Lecture de chaînes de caractères très facile
%     \item Possibilité de lire un fichier ligne à ligne
%     \end{itemize}
%     \vspace{1cm}
%     \begin{remarque}
%       Il existe une classe \emph{LineNumberReader} héritant de
%       \emph{BufferedReader} permettant de compter le nombre de lignes lues.
%     \end{remarque}
%     \vspace{1cm}
%   }
% \end{frame}


% \begin{frame}
%   \frametitle{Écriture sous forme de flot}
%   \begin{itemize}
%   \item<1-> Utilisation d'un \emph{PrintStream}
%   \item<2-> Permet d'écrire différents types de données
%   \item<2-> Ne génère pas d'exception
%   \end{itemize}

%   \begin{exemple}
%     \begin{semiverbatim}
%       \only<1>{
%         File monFic = new File(nomFichier);

%         try \{

%         \hspace{1cm}ecrivain = new PrintStream(new FileOutputStream(monFic));

%         \}~catch (FileNotFoundException e) \{

%         \hspace{1cm}System.out.println(e);

%         \}}
%       \only<2>{
%         String message="Un exemple de message.";

%         ecrivain.println(message);

%         ecrivain.print(42);

%         ecrivain.close();
%       }
%     \end{semiverbatim}
%   \end{exemple}
% \end{frame}


